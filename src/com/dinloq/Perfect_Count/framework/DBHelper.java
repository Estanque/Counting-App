package com.dinloq.Perfect_Count.framework;import android.content.ContentValues;import android.content.Context;import android.database.Cursor;import android.database.sqlite.SQLiteDatabase;import android.database.sqlite.SQLiteOpenHelper;import android.widget.Toast;import java.sql.SQLException;import java.text.SimpleDateFormat;import java.util.Date;public class DBHelper extends SQLiteOpenHelper {	public static final String DATABASE = "app_db";	public static final String TABLE_STATISTIC = "table_stat";	public static final String TABLE_RIGHT_FLD = "right";	public static final String TABLE_WRONG_FLD = "wrong";	public static final String TABLE_DATE_FLD = "date";	public DBHelper(Context context) {		super(context, DATABASE, null, 1);	}	@Override	public void onCreate(SQLiteDatabase db) {		String name = "mytable";		db.execSQL("CREATE TABLE IF NOT EXISTS " + TABLE_STATISTIC + " ("				+ "id INTEGER PRIMARY KEY AUTOINCREMENT,"				+ TABLE_RIGHT_FLD + " INTEGER,"				+ TABLE_WRONG_FLD + " INTEGER,"				+ TABLE_DATE_FLD + " INTEGER UNIQUE" + ");");	}	@Override	public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {	}	public static String addDayRecord(String right, String wrong, String time, Context context){		DBHelper dbHelper = new DBHelper(context);		SQLiteDatabase db = dbHelper.getWritableDatabase();		ContentValues cv = new ContentValues();		cv.put("right", Integer.parseInt(right));		cv.put("wrong", Integer.parseInt(wrong));		cv.put("date", Integer.parseInt(time));		String message = "";		try {			long a = db.insertWithOnConflict(DBHelper.TABLE_STATISTIC, null, cv, SQLiteDatabase.CONFLICT_REPLACE);			//long a = db.insertOrThrow(DBHelper.TABLE_STATISTIC, null, cv);			message = String.valueOf(a);		} catch (Exception e){			message = e.getMessage();		}		//long a = db.insert(DBHelper.TABLE_STATISTIC, null, cv);		dbHelper.close();		return message;	}	public static ContentValues loadDataFromDB(Context context, String date) {		DBHelper dbHelper = new DBHelper(context);		SQLiteDatabase db;		db = dbHelper.getReadableDatabase();		String selection = "date = ?";		String[] selectionArgs = new String[] { date };		Cursor c = db.query(DBHelper.TABLE_STATISTIC, null, selection, selectionArgs, null, null, null );		ContentValues cv = null;		if (c != null) {			if (c.moveToFirst()) {				String str;				do {					str = "T: ";					cv = new ContentValues();					for (String cn : c.getColumnNames()){						cv.put(cn, c.getString(c.getColumnIndex(cn)));						str = str.concat(cn + " = "								+ c.getString(c.getColumnIndex(cn)));					}					Toast.makeText(context, str, Toast.LENGTH_LONG).show();				} while (c.moveToNext());			} else				Toast.makeText(context, "no one record", Toast.LENGTH_SHORT).show();			c.close();		} else			Toast.makeText(context, "Cursor is null", Toast.LENGTH_SHORT).show();		dbHelper.close();		//Toast.makeText(context, "ok", Toast.LENGTH_SHORT).show();		return cv;	}	public static void clearDB(Context context){		DBHelper dbHelper = new DBHelper(context);		SQLiteDatabase db = dbHelper.getWritableDatabase();		db.delete(DBHelper.TABLE_STATISTIC, null, null);	}	public static String getCurrentDate(){		SimpleDateFormat sdf = new SimpleDateFormat("ddMMyyyy");		String date = sdf.format(new Date(System.currentTimeMillis()));		return date;	}}